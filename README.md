# チーム開発のゲームより抜粋

## 背景
大学の講義内でRaspberryPiを使用したものづくりのチーム活動を行った
このチームではRaspberryPiとカメラを用いて、カラートラッキングで操作できるゲームを制作した
以下、開発したゲームの一部と使用したライブラリを記載する

## 実行動画
https://user-images.githubusercontent.com/98578587/209464720-d017c689-90eb-456c-b794-516e18803faf.mp4

## HockeyBattle
OpenCVとpygameを用いた、カメラ入力によるカラートラッキングゲーム

## 使用外部ライブラリ
* numpy
* cv2
* pygame

## チームメイトの作成ソースコード
* GPIOController.py

## 自分の作成ソースコード
* [PlayerTracking.py](https://github.com/YoshiokaTsuyoshi/PythonGame/tree/main/LibraryDetail) (トラッキング用ライブラリ)
* NextCircle.py (繰り返し使う描画要素の一部)
* HockeyBattle.py及びその他

## 実行方法
PlayerTracking.pyと同じディレクトリでHockeyBattle.pyを起動
引数に「debug」と指定するとマウスで操作

## 遊び方
①カラートラッキングに使用する、背景に溶けない色を持つ物体を用意する(以下、オブジェクト)  
②HockeyBattle.pyを実行  
③カメラの真ん中にオブジェクトを合わせて、スペースキーを二度押す  
④カメラに映るようにオブジェクトを動かしてプレイヤーを操作  
(debug実行の場合マウスポインタの移動で操作)

## ゲーム仕様
* ゲームモードはホッケーモードとバトルモードの二種類
* プレイヤーはオブジェクトの移動に合わせて移動し、棒を振る
* 白い球にタイミングよく棒を当てるとボールをはじく
* 白いボールを敵に当てるとダメージが入る
* 敵の出すボールにプレイヤーの丸い部分が当たるとダメージを受ける

## 課題
* 棒とボールの衝突判定が不安定
* 高速で棒を振るとボールが意図した方向の反対に飛んでいく
* enemyの移動が横にしか対応していない
* BattleGameのゲームシステムが未完成
